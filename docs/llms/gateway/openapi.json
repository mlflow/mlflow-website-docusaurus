{"openapi": "3.1.0", "info": {"title": "MLflow Gateway API", "description": "The core gateway API for reverse proxy interface using remote inference endpoints within MLflow", "version": "2.8.2.dev0"}, "paths": {"/gateway/chat/invocations": {"post": {"summary": " Chat", "operationId": "_chat_gateway_chat_invocations_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__chat__RequestPayload"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__chat__ResponsePayload"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/gateway/completions/invocations": {"post": {"summary": " Completions", "operationId": "_completions_gateway_completions_invocations_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__completions__RequestPayload"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__completions__ResponsePayload"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/gateway/embeddings/invocations": {"post": {"summary": " Embeddings", "operationId": "_embeddings_gateway_embeddings_invocations_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__embeddings__RequestPayload"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__embeddings__ResponsePayload"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/health": {"get": {"summary": "Health", "operationId": "health_health_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HealthResponse"}}}}}}}, "/api/2.0/gateway/routes/{route_name}": {"get": {"summary": "Get Route", "operationId": "get_route_api_2_0_gateway_routes__route_name__get", "parameters": [{"name": "route_name", "in": "path", "required": true, "schema": {"type": "string", "title": "Route Name"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Route"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/2.0/gateway/routes/": {"get": {"summary": "Search Routes", "operationId": "search_routes_api_2_0_gateway_routes__get", "parameters": [{"name": "page_token", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Page Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SearchRoutesResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/2.0/gateway/limits/{route}": {"get": {"summary": "Get Limits", "operationId": "get_limits_api_2_0_gateway_limits__route__get", "parameters": [{"name": "route", "in": "path", "required": true, "schema": {"type": "string", "title": "Route"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LimitsConfig"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/2.0/gateway/limits/": {"post": {"summary": "Set Limits", "operationId": "set_limits_api_2_0_gateway_limits__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SetLimitsModel"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LimitsConfig"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"CandidateMetadata": {"properties": {"finish_reason": {"anyOf": [{"$ref": "#/components/schemas/FinishReason"}, {"type": "null"}]}}, "additionalProperties": true, "type": "object", "title": "CandidateMetadata"}, "FinishReason": {"type": "string", "enum": ["stop", "length"], "title": "FinishReason"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "HealthResponse": {"properties": {"status": {"type": "string", "title": "Status"}}, "type": "object", "required": ["status"], "title": "HealthResponse"}, "Limit": {"properties": {"calls": {"type": "integer", "title": "Calls"}, "key": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Key"}, "renewal_period": {"type": "string", "title": "Renewal Period"}}, "type": "object", "required": ["calls", "renewal_period"], "title": "Limit"}, "LimitsConfig": {"properties": {"limits": {"anyOf": [{"items": {"$ref": "#/components/schemas/Limit"}, "type": "array"}, {"type": "null"}], "title": "Limits", "default": []}}, "type": "object", "title": "LimitsConfig"}, "Metadata": {"properties": {"input_tokens": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Input Tokens"}, "output_tokens": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Output Tokens"}, "total_tokens": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Total Tokens"}, "model": {"type": "string", "title": "Model"}, "route_type": {"$ref": "#/components/schemas/RouteType"}}, "type": "object", "required": ["model", "route_type"], "title": "Metadata"}, "RequestMessage": {"properties": {"role": {"type": "string", "title": "Role"}, "content": {"type": "string", "title": "Content"}}, "additionalProperties": true, "type": "object", "required": ["role", "content"], "title": "RequestMessage"}, "ResponseMessage": {"properties": {"role": {"type": "string", "title": "Role"}, "content": {"type": "string", "title": "Content"}}, "type": "object", "required": ["role", "content"], "title": "ResponseMessage"}, "Route": {"properties": {"name": {"type": "string", "title": "Name"}, "route_type": {"type": "string", "title": "Route Type"}, "model": {"$ref": "#/components/schemas/RouteModelInfo"}, "route_url": {"type": "string", "title": "Route Url"}}, "type": "object", "required": ["name", "route_type", "model", "route_url"], "title": "Route"}, "RouteModelInfo": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "provider": {"type": "string", "title": "Provider"}}, "type": "object", "required": ["provider"], "title": "RouteModelInfo"}, "RouteType": {"type": "string", "enum": ["llm/v1/completions", "llm/v1/chat", "llm/v1/embeddings"], "title": "RouteType"}, "SearchRoutesResponse": {"properties": {"routes": {"items": {"$ref": "#/components/schemas/Route"}, "type": "array", "title": "Routes"}, "next_page_token": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Next Page Token"}}, "type": "object", "required": ["routes"], "title": "SearchRoutesResponse"}, "SetLimitsModel": {"properties": {"route": {"type": "string", "title": "Route"}, "limits": {"items": {"type": "object"}, "type": "array", "title": "Limits"}}, "type": "object", "required": ["route", "limits"], "title": "SetLimitsModel"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "mlflow__gateway__schemas__chat__Candidate": {"properties": {"message": {"$ref": "#/components/schemas/ResponseMessage"}, "metadata": {"$ref": "#/components/schemas/CandidateMetadata"}}, "type": "object", "required": ["message", "metadata"], "title": "Candidate"}, "mlflow__gateway__schemas__chat__RequestPayload": {"properties": {"temperature": {"type": "number", "maximum": 1.0, "minimum": 0.0, "title": "Temperature", "default": 0.0}, "candidate_count": {"type": "integer", "maximum": 5.0, "minimum": 1.0, "title": "Candidate Count", "default": 1}, "stop": {"anyOf": [{"items": {"type": "string"}, "type": "array", "minItems": 1}, {"type": "null"}], "title": "Stop"}, "max_tokens": {"anyOf": [{"type": "integer", "minimum": 1.0}, {"type": "null"}], "title": "Max Tokens"}, "messages": {"items": {"$ref": "#/components/schemas/RequestMessage"}, "type": "array", "minItems": 1, "title": "Messages"}}, "additionalProperties": true, "type": "object", "required": ["messages"], "title": "RequestPayload"}, "mlflow__gateway__schemas__chat__ResponsePayload": {"properties": {"candidates": {"items": {"$ref": "#/components/schemas/mlflow__gateway__schemas__chat__Candidate"}, "type": "array", "title": "Candidates"}, "metadata": {"$ref": "#/components/schemas/Metadata"}}, "type": "object", "required": ["candidates", "metadata"], "title": "ResponsePayload"}, "mlflow__gateway__schemas__completions__Candidate": {"properties": {"text": {"type": "string", "title": "Text"}, "metadata": {"anyOf": [{"additionalProperties": {"type": "string"}, "type": "object"}, {"type": "null"}], "title": "Metadata"}}, "type": "object", "required": ["text"], "title": "Candidate"}, "mlflow__gateway__schemas__completions__RequestPayload": {"properties": {"temperature": {"type": "number", "maximum": 1.0, "minimum": 0.0, "title": "Temperature", "default": 0.0}, "candidate_count": {"type": "integer", "maximum": 5.0, "minimum": 1.0, "title": "Candidate Count", "default": 1}, "stop": {"anyOf": [{"items": {"type": "string"}, "type": "array", "minItems": 1}, {"type": "null"}], "title": "Stop"}, "max_tokens": {"anyOf": [{"type": "integer", "minimum": 1.0}, {"type": "null"}], "title": "Max Tokens"}, "prompt": {"type": "string", "title": "Prompt"}}, "additionalProperties": true, "type": "object", "required": ["prompt"], "title": "RequestPayload"}, "mlflow__gateway__schemas__completions__ResponsePayload": {"properties": {"candidates": {"items": {"$ref": "#/components/schemas/mlflow__gateway__schemas__completions__Candidate"}, "type": "array", "title": "Candidates"}, "metadata": {"$ref": "#/components/schemas/Metadata"}}, "type": "object", "required": ["candidates", "metadata"], "title": "ResponsePayload"}, "mlflow__gateway__schemas__embeddings__RequestPayload": {"properties": {"text": {"anyOf": [{"type": "string"}, {"items": {"type": "string"}, "type": "array"}], "title": "Text"}}, "additionalProperties": true, "type": "object", "required": ["text"], "title": "RequestPayload"}, "mlflow__gateway__schemas__embeddings__ResponsePayload": {"properties": {"embeddings": {"items": {"items": {"type": "number"}, "type": "array"}, "type": "array", "title": "Embeddings"}, "metadata": {"$ref": "#/components/schemas/Metadata"}}, "type": "object", "required": ["embeddings", "metadata"], "title": "ResponsePayload"}}}}